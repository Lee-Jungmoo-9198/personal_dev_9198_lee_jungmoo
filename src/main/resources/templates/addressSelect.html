<!DOCTYPE html>
<html lang="ja">

<head>
	<meta charset="UTF-8">
	<title>サンプルショッピング - 住所選択</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="/css/style.css">
</head>

<body class="bg-light">

	<div class="container-fluid bg-dark text-white p-3">
		<h4 class="d-inline">サンプルショッピング</h4>
		<div class="float-end">
			<span th:text="${loggedInAccount.name} + 'さんがログイン中'">ユーザーさん、ログイン中です</span>
			<a href="#" class="text-white text-decoration-underline">ログアウト</a>
			<a href="#" class="text-white text-decoration-underline">カートを見る</a>
		</div>
	</div>

	<div class="container mt-4 bg-white p-4">
		<h5>住所選択</h5>
		<form th:action="@{/address/select}" method="post">
			<div class="mb-3">
				<label class="form-label">デフォルト</label>
				<div>
					<input type="radio" id="defaultAddress" name="addressOption" value="default" checked>
					<label for="defaultAddress">222-3333 神奈川県横浜市西区2-5-15 プレミア横浜西口2F</label>
				</div>
			</div>
			<div class="mb-3">
				<label class="form-label">新規登録</label>
				<div>
					<input type="radio" id="newAddress" name="addressOption" value="new">
					<label for="newAddress">新しい住所を入力してください</label>
				</div>
			</div>
			<div class="mb-3" id="newAddressFields" style="display: none;">
				<label for="name" class="form-label">名前</label>
				<input type="text" class="form-control" id="name" name="name" required>

				<label for="postal_code" class="form-label">郵便番号</label>
				<input type="text" class="form-control" id="postal_code" name="postal_code" required>

				<label for="prefecture_id" class="form-label">都道府県</label>
				<select class="form-control" id="prefecture_id" name="prefecture_id" required>
					<option value="">選択</option>
					<option value="1">東京</option>
					<option value="2">大阪</option>
					<option value="3">京都</option>
				</select>

				<label for="street" class="form-label">住所（市区町村）</label>
				<input type="text" class="form-control" id="street" name="street" required>

				<label for="building" class="form-label">建物名</label>
				<input type="text" class="form-control" id="building" name="building">

				<label for="tel" class="form-label">電話番号</label>
				<input type="text" class="form-control" id="tel" name="tel" required>
			</div>
			<button type="submit" class="btn btn-primary">次へ</button>
		</form>
	</div>

	<script>
		document.querySelectorAll('input[name="addressOption"]').forEach(function (radio) {
			radio.addEventListener('change', function () {
				const newAddressFields = document.getElementById('newAddressFields');
				if (this.value === 'new') {
					newAddressFields.style.display = 'block';
				} else {
					newAddressFields.style.display = 'none';
				}
			});
		});
	</script>

</body>

</html>